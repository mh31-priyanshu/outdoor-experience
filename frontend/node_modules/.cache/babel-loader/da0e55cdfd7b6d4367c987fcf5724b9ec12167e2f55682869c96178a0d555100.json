{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst react_1 = require(\"react\");\nclass Razorpay {\n  constructor(options) {\n    this.options = options;\n    if (typeof window !== \"undefined\") this.rzrpayInstannce = new window.Razorpay(this.options);\n  }\n  on(event, callback) {\n    this.rzrpayInstannce.on(event, callback);\n  }\n  open() {\n    this.rzrpayInstannce.open();\n  }\n}\nconst useRazorpay = () => {\n  /* Constants */\n  const RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n  const isClient = (0, react_1.useMemo)(() => typeof window !== \"undefined\", []);\n  const [isLoaded, setIsLoaded] = (0, react_1.useState)(false);\n  const checkScriptLoaded = (0, react_1.useCallback)(() => {\n    if (!isClient || !(\"Razorpay\" in window)) return false;\n    return true;\n  }, []);\n  const loadScript = (0, react_1.useCallback)(scriptUrl => {\n    if (!isClient) return; // Don't execute this function if it's rendering on server side\n    return new Promise((resolve, reject) => {\n      const scriptTag = document.createElement(\"script\");\n      scriptTag.src = scriptUrl;\n      scriptTag.onload = ev => {\n        setIsLoaded(true), resolve(ev);\n      };\n      scriptTag.onerror = err => reject(err);\n      document.body.appendChild(scriptTag);\n    });\n  }, []);\n  (0, react_1.useEffect)(() => {\n    if (!checkScriptLoaded()) {\n      (() => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n          yield loadScript(RAZORPAY_SCRIPT);\n        } catch (error) {\n          throw new Error(error);\n        }\n      }))();\n    }\n  }, []);\n  return [Razorpay, isLoaded];\n};\nexports.default = useRazorpay;","map":{"version":3,"names":["react_1","require","Razorpay","constructor","options","window","rzrpayInstannce","on","event","callback","open","useRazorpay","RAZORPAY_SCRIPT","isClient","useMemo","isLoaded","setIsLoaded","useState","checkScriptLoaded","useCallback","loadScript","scriptUrl","Promise","resolve","reject","scriptTag","document","createElement","src","onload","ev","onerror","err","body","appendChild","useEffect","__awaiter","error","Error","exports","default"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,OAAA,GAAAC,OAAA;AAmEA,MAAMC,QAAQ;EAIZC,YAAYC,OAAwB;IAClC,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB,IAAI,OAAOC,MAAM,KAAK,WAAW,EAC/B,IAAI,CAACC,eAAe,GAAG,IAAKD,MAAc,CAACH,QAAQ,CAAC,IAAI,CAACE,OAAO,CAAC;EACrE;EAEOG,EAAEA,CAACC,KAAa,EAAEC,QAAkB;IACzC,IAAI,CAACH,eAAe,CAACC,EAAE,CAACC,KAAK,EAAEC,QAAQ,CAAC;EAC1C;EAEOC,IAAIA,CAAA;IACT,IAAI,CAACJ,eAAe,CAACI,IAAI,EAAE;EAC7B;;AAGF,MAAMC,WAAW,GAAGA,CAAA,KAAK;EACvB;EACA,MAAMC,eAAe,GAAG,8CAA8C;EAEtE,MAAMC,QAAQ,GAAG,IAAAb,OAAA,CAAAc,OAAO,EAAC,MAAM,OAAOT,MAAM,KAAK,WAAW,EAAE,EAAE,CAAC;EAEjE,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAG,IAAAhB,OAAA,CAAAiB,QAAQ,EAAC,KAAK,CAAC;EAE/C,MAAMC,iBAAiB,GAAkB,IAAAlB,OAAA,CAAAmB,WAAW,EAAC,MAAK;IACxD,IAAI,CAACN,QAAQ,IAAI,EAAE,UAAU,IAAIR,MAAM,CAAC,EAAE,OAAO,KAAK;IACtD,OAAO,IAAI;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMe,UAAU,GAAG,IAAApB,OAAA,CAAAmB,WAAW,EAAEE,SAAiB,IAAI;IACnD,IAAI,CAACR,QAAQ,EAAE,OAAO,CAAC;IACvB,OAAO,IAAIS,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;MACrC,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAClDF,SAAS,CAACG,GAAG,GAAGP,SAAS;MACzBI,SAAS,CAACI,MAAM,GAAIC,EAAE,IAAI;QACxBd,WAAW,CAAC,IAAI,CAAC,EAAEO,OAAO,CAACO,EAAE,CAAC;MAChC,CAAC;MACDL,SAAS,CAACM,OAAO,GAAIC,GAAG,IAAKR,MAAM,CAACQ,GAAG,CAAC;MACxCN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,SAAS,CAAC;IACtC,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAAzB,OAAA,CAAAmC,SAAS,EAAC,MAAK;IACb,IAAI,CAACjB,iBAAiB,EAAE,EAAE;MACxB,CAAC,MAAWkB,SAAA;QACV,IAAI;UACF,MAAMhB,UAAU,CAACR,eAAe,CAAC;SAClC,CAAC,OAAOyB,KAAU,EAAE;UACnB,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;;MAE1B,CAAC,GAAC,CAAE;;EAER,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACnC,QAAQ,EAAEa,QAAQ,CAA+B;AAC3D,CAAC;AAEDwB,OAAA,CAAAC,OAAA,GAAe7B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}